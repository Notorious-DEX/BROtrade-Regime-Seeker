<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BROtrade Regime Seeker v0.18</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Lightweight Charts Library -->
    <script src="https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
    <!-- HTML2Canvas for Chart Export -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">BROtrade Regime Seeker</h1>
            <div class="header-center">
                <div class="market-info" id="market-info">
                    <span class="market-info-item" id="fear-greed-display" title="Crypto Fear & Greed Index">
                        Fear & Greed: <span id="fear-greed-value">--</span>
                    </span>
                    <span class="market-info-item" id="btc-dom-display" title="Bitcoin Dominance">
                        BTC Dominance : <span id="btc-dom-value">--</span>
                    </span>
                    <span class="market-info-item" id="adx-display" title="Average Directional Index">
                        ADX: <span id="adx-value">--</span>
                    </span>
                </div>
            </div>
            <div class="header-right">
                <div class="version">v0.18</div>
                <button id="settings-btn" class="settings-btn" title="Settings">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6m6-12-6 6m0 0-6 6m12 0-6-6m0 0-6-6"></path>
                    </svg>
                </button>
                <!-- Crypto Addresses Dropdown -->
                <div class="crypto-addresses-container">
                    <button id="addresses-btn" class="addresses-btn" title="Support the project">
                        Tips
                    </button>
                    <div id="addresses-dropdown" class="addresses-dropdown">
                        <div class="addresses-header">Support BROtrades</div>
                        <div class="address-item">
                            <div class="address-label">Bitcoin</div>
                            <div class="address-value">
                                <span class="address-text">bc1qrej55ughquxkqgfhw7jvs4w3t6zpcxx95w47qs</span>
                                <button class="copy-btn" data-address="bc1qrej55ughquxkqgfhw7jvs4w3t6zpcxx95w47qs" title="Copy address">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="address-item">
                            <div class="address-label">Ethereum</div>
                            <div class="address-value">
                                <span class="address-text">0xe4426e583C97f679af148B5E01e9E9fDCB960F42</span>
                                <button class="copy-btn" data-address="0xe4426e583C97f679af148B5E01e9E9fDCB960F42" title="Copy address">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="address-item">
                            <div class="address-label">Solana</div>
                            <div class="address-value">
                                <span class="address-text">DmHBKFvLP8FeRUkSTmJq2m8DSy2rqf8AS7W46VKiTWsY</span>
                                <button class="copy-btn" data-address="DmHBKFvLP8FeRUkSTmJq2m8DSy2rqf8AS7W46VKiTWsY" title="Copy address">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="address-item">
                            <div class="address-label">Monad</div>
                            <div class="address-value">
                                <span class="address-text">0xe4426e583C97f679af148B5E01e9E9fDCB960F42</span>
                                <button class="copy-btn" data-address="0xe4426e583C97f679af148B5E01e9E9fDCB960F42" title="Copy address">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="address-item">
                            <div class="address-label">HYPE</div>
                            <div class="address-value">
                                <span class="address-text">0xe4426e583C97f679af148B5E01e9E9fDCB960F42</span>
                                <button class="copy-btn" data-address="0xe4426e583C97f679af148B5E01e9E9fDCB960F42" title="Copy address">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="address-item">
                            <div class="address-label">SUI</div>
                            <div class="address-value">
                                <span class="address-text">0x354fd7f37e7c3cae7efdc50a4be198bb5e96a4384c40d3e1731c738634269f45</span>
                                <button class="copy-btn" data-address="0x354fd7f37e7c3cae7efdc50a4be198bb5e96a4384c40d3e1731c738634269f45" title="Copy address">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Settings Dropdown Panel -->
        <div id="settings-panel" class="settings-panel">
            <div class="settings-content">
                <div class="settings-header">
                    <h3>Settings & Features</h3>
                    <button id="settings-close" class="settings-close-btn">&times;</button>
                </div>
                <div class="settings-body">
                    <div class="settings-columns">
                        <!-- Column 1: Chart Display -->
                        <div class="settings-column">
                            <h4>Chart Display</h4>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="setting-regime-colors" checked>
                                    <span>Regime Colors</span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="setting-show-ema" checked>
                                    <span>Show Regime Trend</span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="setting-atr-bands">
                                    <span>ATR Bands Overlay</span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="setting-sound" checked>
                                    <span>Sound Alerts</span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="setting-volume-filter">
                                    <span>Volume Filter</span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label for="setting-volume-mult">Volume Multiplier:</label>
                                <select id="setting-volume-mult" class="setting-select">
                                    <option value="1.5">1.5x</option>
                                    <option value="2" selected>2x</option>
                                    <option value="2.5">2.5x</option>
                                    <option value="3">3x</option>
                                </select>
                            </div>
                        </div>

                        <!-- Column 2: Market Data -->
                        <div class="settings-column">
                            <h4>Market Data</h4>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="setting-fear-greed" checked>
                                    <span>Fear & Greed Index</span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="setting-btc-dom" checked>
                                    <span>Bitcoin Dominance</span>
                                </label>
                            </div>
                        </div>

                        <!-- Column 3: Indicators -->
                        <div class="settings-column">
                            <h4>Indicators</h4>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="setting-confluence-badge">
                                    <span>Confluence Badge</span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="setting-storm-warning">
                                    <span>"Storm Warning" Detector</span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <label>
                                    <input type="checkbox" id="setting-event-markers">
                                    <span>Economic Event Markers</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <div class="controls">
            <div class="control-group">
                <label for="exchange">Exchange:</label>
                <select id="exchange" class="select">
                    <option value="kraken">Kraken</option>
                    <option value="binance.us">Binance.US</option>
                    <option value="binance.com">Binance.com (No USA)</option>
                </select>
            </div>

            <div class="control-group">
                <label for="crypto">Crypto:</label>
                <select id="crypto" class="select">
                    <option value="BTC">BTC (Bitcoin)</option>
                    <option value="ETH">ETH (Ethereum)</option>
                    <option value="BNB">BNB (Binance Coin)</option>
                    <option value="SOL">SOL (Solana)</option>
                    <option value="XRP">XRP (Ripple)</option>
                    <option value="ADA">ADA (Cardano)</option>
                    <option value="DOGE">DOGE (Dogecoin)</option>
                    <option value="AVAX">AVAX (Avalanche)</option>
                    <option value="MATIC">MATIC (Polygon)</option>
                    <option value="DOT">DOT (Polkadot)</option>
                </select>
            </div>

            <div class="control-group">
                <label for="timeframe">Timeframe:</label>
                <select id="timeframe" class="select">
                    <option value="1m">1 min</option>
                    <option value="5m" selected>5 min</option>
                    <option value="15m">15 min</option>
                    <option value="30m">30 min</option>
                    <option value="1h">1 hour</option>
                    <option value="4h">4 hour</option>
                    <option value="1d">1 day</option>
                    <option value="1w">1 week</option>
                    <option value="1M">1 month</option>
                </select>
            </div>

            <div class="control-group">
                <label for="utc-offset">UTC Offset:</label>
                <select id="utc-offset" class="select">
                    <option value="-12">UTC-12</option>
                    <option value="-11">UTC-11</option>
                    <option value="-10">UTC-10</option>
                    <option value="-9">UTC-9</option>
                    <option value="-8">UTC-8</option>
                    <option value="-7">UTC-7</option>
                    <option value="-6" selected>UTC-6</option>
                    <option value="-5">UTC-5</option>
                    <option value="-4">UTC-4</option>
                    <option value="-3">UTC-3</option>
                    <option value="-2">UTC-2</option>
                    <option value="-1">UTC-1</option>
                    <option value="0">UTC+0</option>
                    <option value="1">UTC+1</option>
                    <option value="2">UTC+2</option>
                    <option value="3">UTC+3</option>
                    <option value="4">UTC+4</option>
                    <option value="5">UTC+5</option>
                    <option value="6">UTC+6</option>
                    <option value="7">UTC+7</option>
                    <option value="8">UTC+8</option>
                    <option value="9">UTC+9</option>
                    <option value="10">UTC+10</option>
                    <option value="11">UTC+11</option>
                    <option value="12">UTC+12</option>
                    <option value="13">UTC+13</option>
                    <option value="14">UTC+14</option>
                </select>
            </div>

            <div class="control-group">
                <label for="update-interval">Update:</label>
                <select id="update-interval" class="select">
                    <option value="5">5s</option>
                    <option value="15" selected>15s</option>
                    <option value="30">30s</option>
                    <option value="60">60s</option>
                </select>
            </div>

            <div class="control-group">
                <button id="reset-view" class="btn">Reset View</button>
            </div>
        </div>

        <!-- Multi-Timeframe Panel (Far Left of Screen) -->
        <div id="mtf-panel" class="mtf-panel collapsed">
            <button class="mtf-toggle" id="mtf-toggle" title="Multi-Timeframe Analysis">
                <span class="mtf-toggle-text">MTF</span>
                <span class="mtf-toggle-arrow">â—„</span>
            </button>
            <div class="mtf-content">
                <div class="mtf-header">
                    <h3>MULTI-TIMEFRAME</h3>
                    <button class="mtf-close" id="mtf-close">â–º</button>
                </div>
                <div class="mtf-body">
                    <div id="mtf-timeframes" class="mtf-timeframes">
                        <!-- Will be populated by JavaScript -->
                    </div>
                    <div class="mtf-confluence">
                        <h4>ðŸŽ¯ CONFLUENCE</h4>
                        <div class="confluence-bar">
                            <div id="confluence-fill" class="confluence-fill"></div>
                        </div>
                        <div id="confluence-text" class="confluence-text">--</div>
                        <div id="confluence-tip" class="confluence-tip"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Area with Panels -->
        <div class="main-content">
            <!-- Chart Container -->
            <div class="chart-section">
            <div class="chart-header">
                <div class="chart-title" id="chart-title">Loading...</div>
                <div class="legend">
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #8b5cf6;"></span>
                        <span>Regime Trend</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #22c55e;"></span>
                        <span>Strong Up</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #065f46;"></span>
                        <span>Weak Up</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #d4c5a9;"></span>
                        <span>Ranging</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #7f1d1d;"></span>
                        <span>Weak Down</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #f87171;"></span>
                        <span>Strong Down</span>
                    </div>
                </div>
            </div>
            <div id="chart" class="chart">
                <!-- Confluence Badge (Floating) -->
                <div id="confluence-badge" class="confluence-badge hidden">
                    <div class="confluence-badge-content">
                        <span class="confluence-icon">âš¡</span>
                        <span id="confluence-badge-text">HIGH CONFLUENCE</span>
                        <span id="confluence-badge-count">5/7 BULLISH â†‘</span>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <!-- Tips & Education Panel (Right Slide-out) -->
        <div id="tips-panel" class="position-calc collapsed">
            <button class="calc-toggle" id="tips-toggle-btn" title="Regime Tips & Education">
                <span class="calc-toggle-text">REGIME TIPS</span>
                <span class="calc-toggle-arrow">â–º</span>
            </button>
            <div class="calc-content">
                <div class="calc-header">
                    <h3>ðŸ’¡ <span id="tips-regime-title">RANGING</span></h3>
                    <button class="calc-close" id="tips-close">â—„</button>
                </div>
                <div class="calc-body">
                    <div class="tips-tabs">
                        <button class="tips-tab active" data-tab="current">Current Regime</button>
                        <button class="tips-tab" data-tab="mistakes">Mistakes</button>
                        <button class="tips-tab" data-tab="learn">Learn</button>
                    </div>
                    <div class="tips-content" id="tips-content">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="controls-help">
                Controls: Mouse wheel to zoom | Left-click & drag to pan | Double-click to reset
            </div>
            <div class="status" id="status">Initializing...</div>
            <button id="export-chart-btn" class="export-btn" title="Export Chart">
                ðŸ“· Export
            </button>
            <div class="copyright">
                &copy; 2025 BROtrades&trade; All rights reserved.
            </div>
        </footer>

        <!-- Export Modal -->
        <div id="export-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ðŸ“· EXPORT CHART</h3>
                    <button class="modal-close" id="export-modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="export-option-group">
                        <h4>Format</h4>
                        <label class="export-radio">
                            <input type="radio" name="export-format" value="png" checked>
                            <span>PNG (Recommended)</span>
                        </label>
                        <label class="export-radio">
                            <input type="radio" name="export-format" value="jpg">
                            <span>JPG (Smaller file)</span>
                        </label>
                    </div>
                    <div class="export-option-group">
                        <h4>Resolution</h4>
                        <label class="export-radio">
                            <input type="radio" name="export-resolution" value="screen" checked>
                            <span>Screen Size (1920x1080)</span>
                        </label>
                        <label class="export-radio">
                            <input type="radio" name="export-resolution" value="high">
                            <span>High Res (3840x2160)</span>
                        </label>
                        <label class="export-radio">
                            <input type="radio" name="export-resolution" value="social">
                            <span>Social Media (1200x630)</span>
                        </label>
                    </div>
                    <div class="export-option-group">
                        <h4>Include</h4>
                        <label class="export-checkbox">
                            <input type="checkbox" id="export-branding" checked>
                            <span>BROtrade branding/logo</span>
                        </label>
                        <label class="export-checkbox">
                            <input type="checkbox" id="export-datetime" checked>
                            <span>Current date/time</span>
                        </label>
                        <label class="export-checkbox">
                            <input type="checkbox" id="export-info" checked>
                            <span>Symbol & timeframe info</span>
                        </label>
                    </div>
                    <div class="export-actions">
                        <button class="export-action-btn" id="export-download">ðŸ’¾ Download</button>
                        <button class="export-action-btn secondary" id="export-cancel">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/indicators.js"></script>
    <script src="js/app.js"></script>
    <script src="js/features.js"></script>
</body>
</html>







